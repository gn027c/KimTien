<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/kimtienlogo_small.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bao Bì & Thiết Kế | Kim Tiền</title>
    <meta name="description" content="Dịch vụ in ấn bao bì chuyên nghiệp và thiết kế tùy chỉnh cho các doanh nghiệp lớn. Chất lượng cao cấp, giao hàng đúng hẹn, giải pháp sáng tạo.">
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    <!-- Loading Overlay -->
    <div id="global-loading-overlay" class="fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-70 transition-opacity duration-700 opacity-100">
      <div class="flex flex-col items-center">
        <div class="animate-spin rounded-full border-4 border-gray-200 border-t-blue-500 h-12 w-12 mb-6"></div>
        <div class="text-white text-lg font-semibold flex items-center gap-2">
          Đang tải... <span class="ml-2 loading-dots"></span>
        </div>
      </div>
    </div>
    <style>
      .loading-dots::after {
        content: '';
        display: inline-block;
        width: 1.2em;
        text-align: left;
        animation: dots 1.2s steps(3, end) infinite;
      }
      @keyframes dots {
        0%, 20% { content: ''; }
        40% { content: '.'; }
        60% { content: '..'; }
        80%, 100% { content: '...'; }
      }
    </style>
    <script>
      function allImagesLoaded() {
        const images = Array.from(document.images);
        if (images.length === 0) return Promise.resolve();
        return Promise.all(
          images.map(img => {
            if (img.complete && img.naturalHeight !== 0) return Promise.resolve();
            return new Promise(resolve => {
              img.addEventListener('load', resolve, { once: true });
              img.addEventListener('error', resolve, { once: true });
            });
          })
        );
      }
      window.addEventListener('DOMContentLoaded', () => {
        allImagesLoaded().then(() => {
          const overlay = document.getElementById('global-loading-overlay');
          if (overlay) {
            overlay.style.opacity = '0';
            overlay.style.pointerEvents = 'none';
            setTimeout(() => overlay.remove(), 700);
          }
        });
      });
    </script>
  </body>
</html>